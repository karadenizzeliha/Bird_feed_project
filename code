int trigPin = 4; // trigpin olarak 4. pin kullanılacak
int echoPin = 3; //echopin olarak 3. pin kullanılacak
int zaman2;  //zaman2 değişkeni tanımlandı.
int uzaklik2; //uzaklık2 değişkeni tanımlandı.

void setup() {
  pinMode (trigPin, OUTPUT);//trigPin çıkış olarak atandı.
  pinMode (echoPin, INPUT);//echoPin giriş olarak atandı.
  pinMode (13, OUTPUT); // sensörün vereceğe bilgiye göre fana çıkış verir.
  

}

void loop() {  //void loop içerisindeki kodları devamlı döndüren bir metoddur.Bu yüzden veri gönderimi LOW-HIGH-LOW şeklinde yaptık.
  digitalWrite(trigPin, LOW);//mesafe sensöründen değer almamızı sağlar
  delayMicroseconds(10);
  digitalWrite(trigPin, HIGH); //trig kısımı 10 ms 'de bir tetiklenip ultrosonik ses gönderdiği için gecikmeli bir şekilde yazdık.
  delayMicroseconds (10);
  digitalWrite(trigPin, LOW);
  zaman2 = pulseIn(echoPin, HIGH); //trigten gönderileler echopinden algılanacak ve algılanan değer zaman2 değerine atanacak.
  uzaklik2 =( zaman2/2) / 29.1;

  if ( uzaklik2  > 0 &&  uzaklik2  < 3) // kuş yemlikten yem yediği  durumununda kuşu algılayacak 
  {
   delay(30000); //30 sn'ye bekleyecek.
   digitalWrite(13, HIGH); // fana enerji verilecek
   delay (3500);//3.5 sn boyunca
   digitalWrite(13,LOW); // fana verilen enerji kesilecek 
  }
  else //diğer durumda yani kuşun yem yemediği esnalarda
  {
    digitalWrite(13, LOW); //fan tetiklenmeyecek
  }
  
}
